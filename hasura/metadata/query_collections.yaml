- name: allowed-queries
  definition:
    queries:
    - name: 'SEC: get filing attachments'
      query: "query SECFilingAttachments($limit: Int!, $offset: Int!) {\r\n  data_sec_filing_attachments(order_by:
        {accession_number: asc, sequence: asc}, limit: $limit, offset: $offset) {\r\n
        \   sequence\r\n    description\r\n    filing_type\r\n    text\r\n    sec_filing
        {\r\n      accession_number\r\n      cik\r\n      header\r\n      sec_company
        {\r\n        cik\r\n        geo\r\n        name\r\n        sic\r\n        sic_name\r\n
        \     }\r\n    }\r\n  }\r\n}"
    - name: 'SEC: insert filing'
      query: "mutation InsertSECFiling($accession_number: String!, $cik: String!,
        $header: String!) {\r\n  insert_data_sec_filings_one(object: {accession_number:
        $accession_number, cik: $cik, header: $header}) {\r\n    accession_number\r\n
        \   cik\r\n  }\r\n}"
    - name: 'SEC: insert company'
      query: |-
        mutation InsertSECCompany($cik: String!, $name: String!,  $geo: String, $sic: String!, $sic_name: String!) {
          insert_data_sec_companies_one(object: {geo: $geo, cik: $cik, name: $name, sic: $sic, sic_name: $sic_name}) {
            cik
          }
        }
    - name: 'SEC: insert attachments'
      query: "mutation InsertAttachments($attachments: [data_sec_filing_attachments_insert_input!]!)
        {\r\n  insert_data_sec_filing_attachments(objects: $attachments, on_conflict:
        {constraint: sec_filing_attachment_accession_number_sequence_key, update_columns:
        [filing_type, filename, description, contents, text]}) {\r\n    returning
        {\r\n      accession_number\r\n      sequence\r\n      filename\r\n      description\r\n
        \     filing_type\r\n    }\r\n  }\r\n}"
